<h1 class='text-center mt-3 mb-3'>Carrito</h1>
<div class='alert alert-info w-50' id='totalPurchase'></div>

{{! Vuelve a la p√°gina de inicio }}
<div class='d-flex p-2 mb-2 flex-row justify-content-start flex-wrap'>
	<button
		class='btn btn-dark border border-dark shadow ms-5 mb-3'
		id='btnBackToBuy'
	>Seguir comprando</button>

	<button
		class='btn btn-primary border border-dark shadow ms-5 mb-3'
		id='btnFinishBuy'
	>Finalizar la compra</button>

</div>

<div id='purchaseDetail'></div>

<div
	class='d-flex p-2 mb-2 flex-row justify-content-evenly flex-wrap'
	id='containerCartProducts'
>

	<input type='hidden' id='getCartId' value='{{user.cart}}' />
	{{#if cart.products.length}}
		{{#each cart.products}}
			<div
				class='card p-3 mb-3 shadow-lg'
				id='cardCartProduct'
				style='width: 18rem;'
			>
				<div class='card-body'>
					<h6 class='card-title mb-3 ps-1 pb-1 text-light bg-secondary'>
						<b class='card-title'>{{this.product.title}}</b>
					</h6>
					<img
						class='card-img-top'
						src='{{this.product.thumbnail}}'
						alt='{{this.product.title}}'
					/>
					<p class='card-text'><b>Precio unitario: ${{this.product.price}}</b></p>
					<p class='card-text'><b>Cantidad: {{this.quantity}} </b>
					</p>
					<span>
						<input
							type='number'
							class='productInCartQuantity w-25'
							id='productQty_{{this.product._id}}'
							min='1'
							value='{{this.quantity}}'
						/>
					</span>
					<button
						class='btn btn-success btnProductInCart btnChangeProductQty mb-3 mt-3'
						data-product-id='{{this.product._id}}'
					>Cambiar cantidad</button>
					<button
						class='btn btn-danger btnProductInCart btnRemoveProduct mb-3'
						data-product-id='{{this.product._id}}'
					>Quitar Producto</button>
				</div>
			</div>

		{{/each}}
	{{else}}
		<h4 class='text-bg-danger p-3 text-start'>No tienes productos en el
			carrito</h4>
	{{/if}}

</div>

<script src='/static/js/cart.js'></script>